<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="assets/js/jquery-3.6.1.min.js"></script>
    <title>ComparisonPage - Porofile</title>
    <meta property="og:title" content="ComparisonPage - Porofile" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: transparent;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}input {  padding: 2px 4px;}img {  display: block;}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Lexend;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.1;
        color: var(--dl-color-grays-dark100);
        background-color: #114b5fff;

      }
    </style>
    <link
      rel="shortcut icon"
      href="public/playground_assets/porofile_logo1.png"
      type="icon/png"
      sizes="32x32"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <style>
      ::placeholder{
      color: #63667066;
      }
    </style>
    <style data-section-id="dropdown">
      [data-thq="thq-dropdown"]:hover > [data-thq="thq-dropdown-list"] {
          display: flex;
        }

        [data-thq="thq-dropdown"]:hover > div [data-thq="thq-dropdown-arrow"] {
          transform: rotate(90deg);
        }
    </style>
    <link rel="stylesheet" href="assets/css/autocomplete.css"/>
    <style>
      .autocomplete-items {
        position: absolute;
        border-bottom: none;
        border-top: none;
        z-index: 99;
        top: 63.5%;
        left: 31.5%;
        right: 0;
        width: 40%;
      }
    </style>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div>
      <link href="./comparison-page.css" rel="stylesheet" />

      <div id="comparison_page" class="comparison-page-container">
        <div class="comparison-page-header">
          <a href="index.html" class="comparison-page-navlink">
          <div
            class="porofile-home-btn-container porofile-home-btn-root-class-name"
          >
            <img
              id="homepage_icon"
              alt="image"
              src="images/porofile_logo.png"
              class="porofile-home-btn-image"
            />
            <span id="homepage_porofile_text" class="porofile-home-btn-text">
              <span>Porofile</span>
            </span>
          </div>
        </a>
          <div
            id="shareButton"
            class="sharebnt-container button sharebnt-root-class-name"
          >
          <button
            type="button"
            onclick="copyText();alert('Link has been copied to clipboard!')"
          >
            <svg
              id="share_icon"
              viewBox="0 0 950.8571428571428 1024"
              class="sharebnt-icon"
            >
              <path
                d="M832 694.857c0-14.857-5.714-28.571-16-38.857l-118.857-118.857c-10.286-10.286-24.571-16-38.857-16-16.571 0-29.714 6.286-41.143 18.286 18.857 18.857 41.143 34.857 41.143 64 0 30.286-24.571 54.857-54.857 54.857-29.143 0-45.143-22.286-64-41.143-12 11.429-18.857 24.571-18.857 41.714 0 14.286 5.714 28.571 16 38.857l117.714 118.286c10.286 10.286 24.571 15.429 38.857 15.429s28.571-5.143 38.857-14.857l84-83.429c10.286-10.286 16-24 16-38.286zM430.286 292c0-14.286-5.714-28.571-16-38.857l-117.714-118.286c-10.286-10.286-24.571-16-38.857-16s-28.571 5.714-38.857 15.429l-84 83.429c-10.286 10.286-16 24-16 38.286 0 14.857 5.714 28.571 16 38.857l118.857 118.857c10.286 10.286 24.571 15.429 38.857 15.429 16.571 0 29.714-5.714 41.143-17.714-18.857-18.857-41.143-34.857-41.143-64 0-30.286 24.571-54.857 54.857-54.857 29.143 0 45.143 22.286 64 41.143 12-11.429 18.857-24.571 18.857-41.714zM941.714 694.857c0 43.429-17.714 85.714-48.571 116l-84 83.429c-30.857 30.857-72.571 47.429-116 47.429-44 0-85.714-17.143-116.571-48.571l-117.714-118.286c-30.857-30.857-47.429-72.571-47.429-116 0-45.143 18.286-88 50.286-119.429l-50.286-50.286c-31.429 32-73.714 50.286-118.857 50.286-43.429 0-85.714-17.143-116.571-48l-118.857-118.857c-31.429-31.429-48-72.571-48-116.571 0-43.429 17.714-85.714 48.571-116l84-83.429c30.857-30.857 72.571-47.429 116-47.429 44 0 85.714 17.143 116.571 48.571l117.714 118.286c30.857 30.857 47.429 72.571 47.429 116 0 45.143-18.286 88-50.286 119.429l50.286 50.286c31.429-32 73.714-50.286 118.857-50.286 43.429 0 85.714 17.143 116.571 48l118.857 118.857c31.429 31.429 48 72.571 48 116.571z"
              ></path>
            </svg>
          </button>
          </div>
          <script>
            function copyText() {
          
                /* Copy text into clipboard */
                navigator.clipboard.writeText
                    ("https://porofile.ca/user/Jyv");
            }
        </script>
        </div>
        <div id = "profile_container" class="comparison-page-container1">
          <div
            id="profile_placeholder" class="profile-placeholder-container profile-placeholder-root-class-name"
          >
          <div id="overlay" class="overlay"></div>
          <button 
              type="button"
              onclick="add_Player()"
            >
            <div
              id="addPlayer_btn"
              class="profile-placeholder-container1 button"
            >
              <svg
                id="add_player_btn_icon"
                viewBox="0 0 1024 1024"
                class="profile-placeholder-icon"
              >
                <path
                  d="M992 384h-352v-352c0-17.672-14.328-32-32-32h-192c-17.672 0-32 14.328-32 32v352h-352c-17.672 0-32 14.328-32 32v192c0 17.672 14.328 32 32 32h352v352c0 17.672 14.328 32 32 32h192c17.672 0 32-14.328 32-32v-352h352c17.672 0 32-14.328 32-32v-192c0-17.672-14.328-32-32-32z"
                ></path>
              </svg>
            </button>
          </div>
            <script>
              function add_Player(){
                    document.getElementById("add_new_profile_box").style.display = "flex"
                    document.getElementById("overlay").style.display = "flex"
                  }
            </script>
          </div>
        </div>
        <div
            id="add_new_profile_box"
            class="add-new-profile-popup-container add-new-profile-popup-root-class-name"
          >
            <div
              id="add_profile_header"
              class="add-new-profile-popup-container1"
            >
              <button
                  type="button"

              >
                <div
                  id="add_new_x_button"
                  class="add-new-profile-popup-container2 button"
                >
                  <span id="banner_x_text" class="add-new-profile-popup-text">
                    <span>X</span>
                  </span>
                </div>
              </button>

              <h1 id="add_profile_title" class="add-new-profile-popup-text01">
                <span>Add New User Profile</span>
              </h1>
            </div>
            <div class="add-new-profile-popup-container3" id="search_user_section">
              <div
                data-thq="thq-dropdown"
                class="add-new-profile-popup-thq-dropdown list-item"
              >
                <div
                  data-thq="thq-dropdown-toggle"
                  class="add-new-profile-popup-dropdown-toggle"
                >
                  <span class="add-new-profile-popup-text02">
                    <span>Region</span>
                    <br />
                  </span>
                  <div
                    data-thq="thq-dropdown-arrow"
                    class="add-new-profile-popup-dropdown-arrow"
                  >
                    <svg
                      viewBox="0 0 1024 1024"
                      class="add-new-profile-popup-icon"
                    >
                      <path d="M426 726v-428l214 214z"></path>
                    </svg>
                  </div>
                </div>
                <ul
                  data-thq="thq-dropdown-list"
                  class="add-new-profile-popup-dropdown-list"
                >
                  <li
                    data-thq="thq-dropdown"
                    class="add-new-profile-popup-dropdown list-item"
                  >
                    <div
                      data-thq="thq-dropdown-toggle"
                      class="add-new-profile-popup-dropdown-toggle1 region-option"
                    >
                      <span class="add-new-profile-popup-text05">NA</span>
                    </div>
                  </li>
                  <li
                    data-thq="thq-dropdown"
                    class="add-new-profile-popup-dropdown1 list-item"
                  >
                    <div
                      data-thq="thq-dropdown-toggle"
                      class="add-new-profile-popup-dropdown-toggle2 region-option"
                    >
                      <span class="add-new-profile-popup-text06">EU</span>
                    </div>
                  </li>
                  <li
                    data-thq="thq-dropdown"
                    class="add-new-profile-popup-dropdown2 list-item"
                  >
                    <div
                      data-thq="thq-dropdown-toggle"
                      class="add-new-profile-popup-dropdown-toggle3 region-option"
                    >
                      <span class="add-new-profile-popup-text07">KO</span>
                    </div>
                  </li>
                  <li
                    data-thq="thq-dropdown"
                    class="add-new-profile-popup-dropdown3 list-item"
                  >
                    <div
                      data-thq="thq-dropdown-toggle"
                      class="add-new-profile-popup-dropdown-toggle4 region-option"
                    >
                      <span class="add-new-profile-popup-text08">BR</span>
                    </div>
                  </li>
                  <li
                    data-thq="thq-dropdown"
                    class="add-new-profile-popup-dropdown4 list-item"
                  >
                    <div
                      data-thq="thq-dropdown-toggle"
                      class="add-new-profile-popup-dropdown-toggle5 region-option"
                    >
                      <span class="add-new-profile-popup-text09">CN</span>
                    </div>
                  </li>
                </ul>
              </div>
              <input
                type="text"
                id="add_new_user_input"
                placeholder="Username..."
                class="add-new-profile-popup-textinput input"
              />
              <button
                  type="button"

                >
              <div
                id="add_new_user_button"
                class="add-new-profile-popup-button button"
              >
                <div class="add-add-button">ADD
                  <path
                    d="M658.286 475.429c0-141.143-114.857-256-256-256s-256 114.857-256 256 114.857 256 256 256 256-114.857 256-256zM950.857 950.857c0 40-33.143 73.143-73.143 73.143-19.429 0-38.286-8-51.429-21.714l-196-195.429c-66.857 46.286-146.857 70.857-228 70.857-222.286 0-402.286-180-402.286-402.286s180-402.286 402.286-402.286 402.286 180 402.286 402.286c0 81.143-24.571 161.143-70.857 228l196 196c13.143 13.143 21.143 32 21.143 51.429z"
                  ></path>
                </svg>
              </div>
            </button>
            </div>
          </div>
        <div class="comparison-page-footer"></div>
      </div>
    </div>
    <script src="https://unpkg.com/@teleporthq/teleport-custom-scripts"></script>
    <script src="assets/js/comparison-page.js"></script>
    <script src="assets/js/removeProfile.js"></script>
    <script src="assets/js/appendProfile.js"></script>
    <script src="assets/js/addUserPopup.js"></script>
    <script src="assets/js/recentlyPlayed.js"></script>
    <script>
      window.onload = () => {
        const runAllScripts = () => {
          initializeAllSliders();
        };

        const listenForUrlChanges = () => {
          let url = location.href;
          document.body.addEventListener(
            "click",
            () => {
              requestAnimationFrame(() => {
                if (url !== location.href) {
                  runAllScripts();
                  url = location.href;
                }
              });
            },
            true
          );
        };

        const initializeAllSliders = () => {
          const allSliders = document.querySelectorAll('[data-type="slider"]');
          allSliders.forEach((carrousel) => {
            initializeSlider(carrousel);
          });
        };

        const initializeSlider = (carrousel) => {
          let currentSlide = 0;

          const slides = carrousel.querySelectorAll('[data-type="slide"]');
          const nextSlideBtns = carrousel.querySelectorAll(
            '[data-action="nextSlide"]'
          );
          const previousSlideBtns = carrousel.querySelectorAll(
            '[data-action="previousSlide"]'
          );

          const changeSlide = (slideIndex, action) => {
            currentSlide = slideIndex;

            switch (action) {
              case "next":
                slideIndex === slides.length - 1
                  ? (currentSlide = 0)
                  : currentSlide++;
                break;
              case "previous":
                slideIndex === 0
                  ? (currentSlide = slides.length - 1)
                  : currentSlide--;
            }

            carrousel.style.transform = `translateX(${-100 * currentSlide}%)`;
          };

          previousSlideBtns.forEach((btn) => {
            btn.addEventListener("click", () =>
              changeSlide(currentSlide, "previous")
            );
          });

          nextSlideBtns.forEach((btn) => {
            btn.addEventListener("click", () =>
              changeSlide(currentSlide, "next")
            );
          });
        };

        runAllScripts();
      };

      // fill in players from URL query
      let searchParams = new URLSearchParams(window.location.search)
      // loop 0:4
      for (let i = 0; i < 5; i++) {
        if (searchParams.has('player'+i)) {
          let param = searchParams.get('player'+i);
          appendProfile(param);
        };
      }

      // hardcoded username data
      var players = ["Tyv", "Boxerme", "jasminebrew", "qotato", "LemonT"];

      // autocomplete function
      // inp : text field element
      // arr : array of possible autocompleted values
      function autocomplete(inp, arr) {
          // for highlighting selected elements
          var currentFocus;
          // event listener for input
          inp.addEventListener("input", function(e) {
              var list, match, i, val = this.value;

              // close existing autocomplete
              closeAllLists();
              if (!val) { return false; }
              currentFocus = -1;
              
              // new DIV for displaying results
              list = document.createElement("DIV");
              list.setAttribute("id", this.id + "-autocomplete-list");
              list.setAttribute("class", "autocomplete-items");
              // append autocomplete DIV to form DIV
              document.getElementById("search_user_section").appendChild(list);
              // loop existing usernames
              for (i = 0; i < arr.length; i++) {
                  // match input string to data
                  if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                      // create new DIV for matches
                      match = document.createElement("DIV");
                      match.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                      match.innerHTML += arr[i].substr(val.length);
                      // hidden input field for storing selected player's value
                      match.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                      // event listener for clicking on username
                      match.addEventListener("click", function(e) {
                          // insert value to text field
                          inp.value = this.getElementsByTagName("input")[0].value;
                          // close list of autocomplete values
                          closeAllLists();
                      });
                      list.appendChild(match);
                  }
              }
          });
          // event listener for keypresses
          inp.addEventListener("keydown", function(e) {
              var x = document.getElementById(this.id + "autocomplete-list");
              if (x) x = x.getElementsByTagName("div");
              if (e.keyCode == 40) {
                  // DOWN = increase the currentFocus variable
                  currentFocus++;
                  // highlight current element
                  addActive(x);
              } else if (e.keyCode == 38) { //up
                  // UP = decrease the currentFocus variable
                  currentFocus--;
                  // highlight current element
                  addActive(x);
              } else if (e.keyCode == 13) {
                  // If the ENTER key is pressed, prevent the form from being submitted, simulate a click on "active"
                  e.preventDefault();
                  if (currentFocus > -1 && x) {
                      x[currentFocus].click();
                  }
              }
          });
          // set "active" for highlighting current focus
          function addActive(x) {
              if (!x) return false;
              removeActive(x);
              if (currentFocus >= x.length) currentFocus = 0;
              if (currentFocus < 0) currentFocus = (x.length - 1);
              // add class "autocomplete-active"
              x[currentFocus].classList.add("autocomplete-active");
          }
          // remove "active" 
          function removeActive(x) {
          for (var i = 0; i < x.length; i++) {
                  x[i].classList.remove("autocomplete-active");
              }
          }
          // close all list except for the one passed as argument
          function closeAllLists(elmnt) {
              var x = document.getElementsByClassName("autocomplete-items");
              for (var i = 0; i < x.length; i++) {
                  if (elmnt != x[i] && elmnt != inp) {
                      x[i].parentNode.removeChild(x[i]);
                  }
              }
          }
          // close list when clicked away
          document.addEventListener("click", function (e) {
              closeAllLists(e.target);
          });
      }
      // autocomplete for searching a user
      autocomplete(document.getElementById("add_new_user_input"), players);
    </script>
  </body>
</html>
